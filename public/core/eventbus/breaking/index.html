<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.144.0">
    <meta name="generator" content="Relearn 7.6.1+4407b4364ab6f7477f7671fbd20c0494bade40ee">
    <meta name="description" content="Change RabbitMQ default behavior on handling failure From version 8.4.x, we added AckOnProcessed option in the RabbitMQOptions and change default behavior when IIntegrationEventHandler service found for incoming integration event but it throws an exception.
Before: the Nack message will be sent back to the broker, so the integration event will be processed repeatedly util itâ€™s done. From 8.4.x: the Ack message will be sent back to the broker, so the integration event will be processed once, even if it fails. Tenant intended when publish message IEventBus now added tenantId parameter into PublishAsync method to supports multi-tenant.">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Breaking changes :: Juice&#39;s documentation">
    <meta name="twitter:description" content="Change RabbitMQ default behavior on handling failure From version 8.4.x, we added AckOnProcessed option in the RabbitMQOptions and change default behavior when IIntegrationEventHandler service found for incoming integration event but it throws an exception.
Before: the Nack message will be sent back to the broker, so the integration event will be processed repeatedly util itâ€™s done. From 8.4.x: the Ack message will be sent back to the broker, so the integration event will be processed once, even if it fails. Tenant intended when publish message IEventBus now added tenantId parameter into PublishAsync method to supports multi-tenant.">
    <meta property="og:url" content="https://juice-docs.creatorflow.io/core/eventbus/breaking/index.html">
    <meta property="og:site_name" content="Juice&#39;s documentation">
    <meta property="og:title" content="Breaking changes :: Juice&#39;s documentation">
    <meta property="og:description" content="Change RabbitMQ default behavior on handling failure From version 8.4.x, we added AckOnProcessed option in the RabbitMQOptions and change default behavior when IIntegrationEventHandler service found for incoming integration event but it throws an exception.
Before: the Nack message will be sent back to the broker, so the integration event will be processed repeatedly util itâ€™s done. From 8.4.x: the Ack message will be sent back to the broker, so the integration event will be processed once, even if it fails. Tenant intended when publish message IEventBus now added tenantId parameter into PublishAsync method to supports multi-tenant.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Core features">
    <meta property="article:published_time" content="2025-06-24T20:23:30+07:00">
    <meta property="article:modified_time" content="2025-06-24T20:23:30+07:00">
    <meta itemprop="name" content="Breaking changes :: Juice&#39;s documentation">
    <meta itemprop="description" content="Change RabbitMQ default behavior on handling failure From version 8.4.x, we added AckOnProcessed option in the RabbitMQOptions and change default behavior when IIntegrationEventHandler service found for incoming integration event but it throws an exception.
Before: the Nack message will be sent back to the broker, so the integration event will be processed repeatedly util itâ€™s done. From 8.4.x: the Ack message will be sent back to the broker, so the integration event will be processed once, even if it fails. Tenant intended when publish message IEventBus now added tenantId parameter into PublishAsync method to supports multi-tenant.">
    <meta itemprop="datePublished" content="2025-06-24T20:23:30+07:00">
    <meta itemprop="dateModified" content="2025-06-24T20:23:30+07:00">
    <meta itemprop="wordCount" content="96">
    <title>Breaking changes :: Juice&#39;s documentation</title>
    <link href="/images/favicon.png?1755242958" rel="icon" type="image/png">
    <link href="/images/favicon.ico?1755242958" rel="icon" type="image/x-icon" sizes="any">
    <link href="/fonts/fontawesome/css/fontawesome-all.min.css?1755242958" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/fonts/fontawesome/css/fontawesome-all.min.css?1755242958" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar/perfect-scrollbar.min.css?1755242958" rel="stylesheet">
    <link href="/css/theme.min.css?1755242958" rel="stylesheet">
    <link href="/css/format-html.min.css?1755242958" rel="stylesheet" id="R-format-style">
    <link href="/css/auto-complete/auto-complete.min.css?1755242958" rel="stylesheet">
    <script src="/js/auto-complete/auto-complete.min.js?1755242958" defer></script>
    <script src="/js/lunr/lunr.min.js?1755242958" defer></script>
    <script src="/js/lunr/lunr.stemmer.support.min.js?1755242958" defer></script>
    <script src="/js/lunr/lunr.multi.min.js?1755242958" defer></script>
    <script src="/js/lunr/lunr.en.min.js?1755242958" defer></script>
    <script src="/js/search.min.js?1755242958" defer></script>
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/core\/eventbus\/breaking\/index.html';
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='https:\/\/juice-docs.creatorflow.io';
      window.relearn.contentLangs=['en'];
      window.relearn.index_js_url="/searchindex.en.js?1755242958";
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=false;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // variant stuff
      window.relearn.themevariants = [ 'mine' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>
  </head>
  <body class="mobile-support html" data-url="/core/eventbus/breaking/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper"> 
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList">
            <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/index.html"><span itemprop="name">Juice&#39;s documentation</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li>
            <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/core/index.html"><span itemprop="name">Core features</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li>
            <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/core/eventbus/index.html"><span itemprop="name">Event bus</span></a><meta itemprop="position" content="3">&nbsp;>&nbsp;</li>
            <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">Breaking changes</span><meta itemprop="position" content="4"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-edit" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="https://github.com/creatorflow-io/juice-docs/tree/master/content/core/eventbus/breaking.md" rel="external" target="_blank" title="Edit (CTRL+ALT+w)"><i class="fa-fw fas fa-pen"></i></a>
            </div>
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/core/eventbus/index.html" title="Event bus (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/core/eventbus/v7.x/index.html" title="Event bus (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable core" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="breaking-changes">Breaking changes</h1>

<h4 id="change-rabbitmq-default-behavior-on-handling-failure">Change RabbitMQ default behavior on handling failure</h4>
<p>From version 8.4.x, we added <code>AckOnProcessed</code> option in the <code>RabbitMQOptions</code> and change default behavior when <code>IIntegrationEventHandler</code> service found for incoming integration event but it throws an exception.</p>
<ul>
<li><strong>Before</strong>: the <code>Nack</code> message will be sent back to the broker, so the integration event will be processed repeatedly util it&rsquo;s done.</li>
<li><strong>From 8.4.x</strong>: the <code>Ack</code> message will be sent back to the broker, so the integration event will be processed once, even if it fails.</li>
</ul>
<h4 id="tenant-intended-when-publish-message">Tenant intended when publish message</h4>
<p><code>IEventBus</code> now added <code>tenantId</code> parameter into <code>PublishAsync</code> method to supports multi-tenant.</p>

  <footer class="footline">
              <i class='fa-fw fas fa-calendar'></i> Jun 24, 2025
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">

        </div>
        <search><form action="/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks">
          <ul class="space collapsible-menu">
            <li class="" data-nav-id="/index.html"><a class="padding" href="/index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-id="/overview/index.html"><a class="padding" href="/overview/index.html"><b>1. </b>Overview</a><ul id="R-subsections-0545e563276d3ac6e3218cfecf67a14b" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/quickstart/index.html"><a class="padding" href="/quickstart/index.html"><b>2. </b>Quickstarts</a><ul id="R-subsections-d63193e927818b6cb77d9c791ea48a61" class="collapsible-menu"></ul></li>
            <li class="parent " data-nav-id="/core/index.html"><a class="padding" href="/core/index.html"><b>3. </b>Core features</a><ul id="R-subsections-ae20cee98ae962b39919c99c9fa7e1c8" class="collapsible-menu">
            <li class="" data-nav-id="/core/overview/index.html"><a class="padding" href="/core/overview/index.html">Overview</a></li>
            <li class="alwaysopen " data-nav-id="/core/logging/index.html"><a class="padding" href="/core/logging/index.html">Logging</a><ul id="R-subsections-75db7930ffb434daa8a1fb726f7e1cd3" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/core/configuration/index.html"><a class="padding" href="/core/configuration/index.html">Configuration</a></li>
            <li class="" data-nav-id="/core/options/index.html"><a class="padding" href="/core/options/index.html">Options</a></li>
            <li class="" data-nav-id="/core/swagger/index.html"><a class="padding" href="/core/swagger/index.html">Swagger</a></li>
            <li class="" data-nav-id="/core/mediator/index.html"><a class="padding" href="/core/mediator/index.html">Mediator</a></li>
            <li class="parent alwaysopen " data-nav-id="/core/eventbus/index.html"><a class="padding" href="/core/eventbus/index.html">Event bus</a><ul id="R-subsections-8bb47dd787c6a0c9079dde618735fec8" class="collapsible-menu">
            <li class="active " data-nav-id="/core/eventbus/breaking/index.html"><a class="padding" href="/core/eventbus/breaking/index.html">Breaking changes</a></li>
            <li class="" data-nav-id="/core/eventbus/v7.x/index.html"><a class="padding" href="/core/eventbus/v7.x/index.html">v7.x</a></li></ul></li>
            <li class="" data-nav-id="/core/entityframework/index.html"><a class="padding" href="/core/entityframework/index.html">Entity framework</a></li>
            <li class="" data-nav-id="/core/integration/index.html"><a class="padding" href="/core/integration/index.html">Integration service</a></li>
            <li class="alwaysopen " data-nav-id="/core/xunit/index.html"><a class="padding" href="/core/xunit/index.html">xUnit</a><ul id="R-subsections-b6ad7eb3f731b9e4ca13d5d5f27cf7cb" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/core/multitenant/index.html"><a class="padding" href="/core/multitenant/index.html">Multi-tenant</a></li>
            <li class="" data-nav-id="/core/modular/index.html"><a class="padding" href="/core/modular/index.html">Modular</a></li></ul></li>
            <li class="" data-nav-id="/bg_service/index.html"><a class="padding" href="/bg_service/index.html"><b>4. </b>Background service</a><ul id="R-subsections-91ddeaef7589de0de564e5ca3c5ae84c" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/other_services/index.html"><a class="padding" href="/other_services/index.html"><b>5. </b>Other services</a><ul id="R-subsections-499bf1af617ed2be177da5b5e1438bc4" class="collapsible-menu"></ul></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts">
          <div class="nav-title padding">More</div>
          <ul class="space collapsible-menu">
            <li class="" data-nav-id="https://github.com/creatorflow-io/Juice"><a class="padding" href="https://github.com/creatorflow-io/Juice" rel="external" target="_blank"><i class='fab fa-github'></i> Github repo</a></li>
          </ul>
        </div>
        <div id="R-footer-margin"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols">
          <ul class="">
          </ul>
        </div>
<div id="R-footer"><p>Built with <a href="https://github.com/McShelby/hugo-theme-relearn" title="love"><i class="fas fa-heart"></i></a> by <a href="https://gohugo.io/">Hugo</a></p></div>
      </div>
    </aside>
    <script src="/js/clipboard/clipboard.min.js?1755242958" defer></script>
    <script src="/js/perfect-scrollbar/perfect-scrollbar.min.js?1755242958" defer></script>
    <script src="/js/theme.min.js?1755242958" defer></script>
  </body>
</html>
